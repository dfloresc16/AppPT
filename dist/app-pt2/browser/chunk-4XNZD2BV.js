import{a as c,b as m,g as u}from"./chunk-NKPXLLZK.js";import{B as i,R as n,W as p,X as h,p as e,s as o}from"./chunk-OZKSLEUV.js";var l={baseUrl:"http://192.168.3.3:9090"};var k=(()=>{class a{constructor(r){this.http=r,this.apiUrl=`${l.baseUrl}`,this.router=h(u)}login(r){return this.http.post(`${this.apiUrl}/auth/login`,r).pipe(o(t=>t),i(t=>e(()=>t.error)))}create(r){return this.http.post(`${this.apiUrl}/auth/create`,{data:r}).pipe(o(t=>t),i(t=>e(()=>t.error)))}validate(r){return this.http.post(`${this.apiUrl}/auth/validate?token=${encodeURIComponent(r)}`,{}).pipe(o(t=>t),i(t=>e(()=>t.error)))}getUser(r){let t=new c().set("userId",r.userId.toString()).set("userName",r.userName);return this.http.get(`${this.apiUrl}/user/getUser`,{params:t}).pipe(o(s=>s),i(s=>e(()=>s.error)))}logout(){sessionStorage.removeItem("access_token"),this.router.navigateByUrl("/login")}activarCuenta(r){return this.http.post(`${this.apiUrl}/auth/validate?token=${encodeURIComponent("")}`,{}).pipe(o(t=>t),i(t=>e(()=>t.error)))}static{this.\u0275fac=function(t){return new(t||a)(p(m))}}static{this.\u0275prov=n({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();export{k as a};
